#!/usr/bin/env python3
import codecs
import glob
import os
import sys


def search_path(path, searchterm):
    datlist = glob.glob(os.path.join(path, '*.dat'))
    for f in datlist:
        data = codecs.open(f).read().decode(encoding='UTF-16-LE')
        if searchterm in data:
            print(f)



if __name__ == '__main__':
    for d in os.walk('.'):
        search_path(d[0], sys.argv[1])
